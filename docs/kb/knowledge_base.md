# Knowledge Base (KB)

**Last updated:** 2025-11-17

## What is the Knowledge Base?

The Knowledge Base (KB) is the **authoritative map** of xsmom-bot's framework: architecture, strategy, risk management, optimizer, and operational model.

The KB serves as:
- **Current state documentation**: What the bot **is today**
- **Design rationale**: **Why** design choices were made
- **Change history**: **How** the framework evolved over time
- **Cross-references**: Links to all relevant documentation

---

## KB Structure

### Core Documents

1. **[`framework_overview.md`](framework_overview.md)** ‚≠ê **Start here**
   - Complete framework map
   - Strategy families (momentum, regime, ensemble)
   - Signal generation flow
   - Position sizing and risk controls
   - Execution and order routing
   - Optimizer pipeline
   - Monitoring and alerting

2. **[`change_log_architecture.md`](change_log_architecture.md)**
   - Framework-level changes over time
   - Human-readable summaries of big conceptual changes
   - NOT a git log (curated, high-level changes)

3. **[`autogenerated/`](autogenerated/)** (Auto-generated)
   - Module maps (from `tools/update_kb.py`)
   - Config parameter tables (from `tools/update_kb.py`)
   - Architecture snapshots

---

## KB Maintenance

### Auto-Generated Content

Some KB content is **auto-generated** from the codebase:

- **Module Map**: `kb/autogenerated/module_map.md` (from `src/` scan)
- **Config Reference**: `docs/reference/config_reference.md` (from `config.yaml` parse)

**To regenerate:**

```bash
python -m tools.update_kb
```

**When to run:**
- After adding new modules to `src/`
- After modifying `config/config.yaml.example`
- Before committing major changes (consider pre-commit hook)

### Manual Updates

The following KB content should be **manually updated** when the framework changes:

- **Framework Overview** (`kb/framework_overview.md`): Major architectural changes
- **Change Log** (`kb/change_log_architecture.md`): Framework-level changes

**When to update:**
- New strategy features (e.g., new signal types, filters)
- Risk management changes (e.g., new kill-switches, position limits)
- Optimizer changes (e.g., new optimization methods, deployment logic)
- Infrastructure changes (e.g., new deployment model, monitoring)

See [`../meta/style_guide.md`](../meta/style_guide.md) for documentation conventions.

---

## KB Philosophy

### Current and Opinionated

The KB is **current**: it reflects what the bot **is today**, not what it was months ago.

The KB is **opinionated**: it explains **why** design choices were made, not just what they are.

### Organized and Cross-Linked

The KB is **organized**: clear structure, logical grouping, easy navigation.

The KB is **cross-linked**: references relevant architecture docs, config reference, usage guides.

### Easy to Maintain

The KB is **easy to maintain**:
- Auto-generated content (module maps, config refs)
- Clear update workflow (when to update what)
- Simple tooling (`tools/update_kb.py`)

---

## Related Documentation

### Architecture Docs

- **[`../architecture/high_level_architecture.md`](../architecture/high_level_architecture.md)** - System overview, data flow
- **[`../architecture/strategy_logic.md`](../architecture/strategy_logic.md)** - Strategy flow, entry/exit logic
- **[`../architecture/risk_management.md`](../architecture/risk_management.md)** - Risk limits, stops, kill-switches
- **[`../architecture/config_system.md`](../architecture/config_system.md)** - How config.yaml maps to code
- **[`../architecture/module_map.md`](../architecture/module_map.md)** - Module tree (auto-generated)

### Reference Docs

- **[`../reference/config_reference.md`](../reference/config_reference.md)** - Parameter-by-parameter reference (auto-generated)
- **[`../reference/cli_reference.md`](../reference/cli_reference.md)** - Command-line interface reference

### Usage Docs

- **[`../usage/optimizer.md`](../usage/optimizer.md)** - Full-cycle optimizer (WFO + BO + MC)
- **[`../usage/discord_notifications.md`](../usage/discord_notifications.md)** - Discord alerts setup

---

## Quick Reference

### Framework at a Glance

**Strategy:** Cross-sectional momentum (XSMOM) with regime switching

**Signals:**
- Multi-lookback momentum (12h, 24h, 48h, 96h)
- Cross-sectional z-scores
- Signal power amplification (1.35√ó)
- Top-K selection (long top K, short bottom K)

**Sizing:**
- Inverse-volatility weighting (risk parity)
- Portfolio volatility targeting (24% annualized)
- Per-asset caps (9% of portfolio)
- Market neutrality (long/short balance)

**Risk:**
- Daily loss limit (5% of equity)
- ATR-based stop-loss (2.0√ó ATR)
- Trailing stops (optional)
- Kill-switch (stop trading on catastrophic loss)

**Optimizer:**
- Walk-forward optimization (reduces overfitting)
- Bayesian optimization (Optuna TPE)
- Monte Carlo stress testing (tail risk assessment)
- Safe deployment (versioned configs with rollback)

**Deployment:**
- systemd service (24/7 operation)
- Discord notifications (optimizer results, daily reports)
- Health checks and heartbeats

---

## Next Steps

üëâ **Read [`framework_overview.md`](framework_overview.md)** for the complete framework map.

üëâ **Read [`../start_here.md`](../start_here.md)** for your reading path.

---

**Motto: MAKE MONEY** ‚Äî with a clear, well-understood, and well-documented framework. üìà

