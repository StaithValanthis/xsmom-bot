exchange:
  id: bybit
  account_type: swap
  quote: USDT
  only_perps: true
  unified_margin: true
  testnet: false
  max_symbols: 100
  min_usd_volume_24h: 30000000
  min_price: 0.03
  timeframe: 1h
  candles_limit: 1500
strategy:
  signal_power: 1.35
  lookbacks:
  - 1
  - 6
  - 24
  lookback_weights:
  - 1.0
  - 1.0
  - 1.0
  vol_lookback: 72
  k_min: 2
  k_max: 6
  market_neutral: true
  gross_leverage: 1.1
  max_weight_per_asset: 0.14
  adx_filter:
    enabled: true
    len: 14
    min_adx: 22
    require_rising: true
    use_di_alignment: true
    min_di_separation: 5
    di_hysteresis_bps: 8
  symbol_filter:
    enabled: true
    banlist: []
    whitelist: []
    score:
      enabled: true
      min_sample_trades: 6
      ema_alpha: 0.2
      min_win_rate_pct: 38.0
      pf_downweight_threshold: 1.0
      downweight_factor: 0.5
      block_below_win_rate_pct: 38.0
      pf_block_threshold: 0.90
      pnl_block_threshold_usdt_per_trade: -0.1
      ban_minutes: 1440
      grace_trades_after_unban: 3
      decay_days: 14
      pf_warn_threshold: 1.2
    ban_minutes_after_loss: 0
  regime_filter:
    enabled: true
    ema_len: 200
    slope_min_bps_per_day: 2.0
    use_abs: true
    hurst:
      enabled: true
      lags:
      - 2
      - 4
      - 8
      - 16
      - 32
      min_h: 0.5
  funding_tilt:
    enabled: true
    weight: 0.15
  entry_zscore_min: 0.8
  diversify:
    enabled: true
    corr_lookback: 48
    max_pair_corr: 0.85
  vol_target:
    enabled: true
    target_daily_vol_bps: 60
    min_scale: 0.6
    max_scale: 1.2
  entry_throttle:
    max_new_positions_per_cycle: 3
    max_open_positions: 12
    per_symbol_trade_cooldown_min: 30
    min_entry_zscore: 0.6
  soft_kill:
    enabled: true
    soft_daily_loss_pct: 1.5
    resume_after_minutes: 240
  time_of_day_whitelist:
    enabled: true
    use_ema: true
    ema_alpha: 0.2
    min_trades_per_hour: 8
    min_hours_allowed: 12
    threshold_bps: 0.0
    fixed_hours: null
  funding_trim:
    enabled: true
    threshold_bps: 3.0
    slope_per_bps: 0.01
    max_reduction: 0.4
liquidity:
  adv_cap_pct: 0.002
  notional_cap_usdt: 70
execution:
  reload_positions_on_start: true
  order_type: limit
  post_only: true
  price_offset_bps: 3
  slippage_bps_guard: 25
  set_leverage: 3
  rebalance_minute: 5
  poll_seconds: 15
  align_after_funding_minutes: 0
  funding_hours_utc:
  - 0
  - 8
  - 16
  min_notional_per_order_usdt: 15
  min_rebalance_delta_bps: 30
  cancel_open_orders_on_start: true
  spread_guard:
    enabled: true
    max_spread_bps: 15
    skip_if_wider: true
  dynamic_offset:
    enabled: true
    base_bps: 3.0
    per_spread_coeff: 0.5
    max_offset_bps: 20.0
  stale_orders:
    enabled: true
    cleanup_interval_sec: 45
    max_age_sec: 180
    reprice_if_far_bps: 15.0
    cancel_if_not_targeted: true
    keep_reduce_only: true
  max_spread_bps: 12.0
  base_offset_bps: 3.0
  microstructure:
    enabled: false
    min_obi: 0.15
    max_spread_bps: 8.0
risk:
  atr_len: 28
  atr_mult_sl: 2.2
  atr_mult_tp: 3.0
  use_tp: true
  fast_check_seconds: 2
  stop_timeframe: 5m
  trailing_enabled: true
  trail_atr_mult: 1.2
  breakeven_after_r: 2.0
  stop_on_close_only: true
  stop_confirm_bars: 1
  min_hold_minutes: 12
  catastrophic_atr_mult: 3.5
  stop_buffer_bps: 10
  cooldown_minutes_after_stop: 90
  partial_tp_enabled: true
  partial_tp_r: 2.5
  partial_tp_size: 0.5
  partial_ladders:
    enabled: true
    r_levels:
    - 1.0
    - 1.8
    - 2.6
    sizes:
    - 0.34
    - 0.33
    - 0.33
    reduce_only: true
  no_progress:
    enabled: true
    min_minutes: 20
    min_rr: 0.3
    min_close_pnl_pct: 0.0
    tiers:
      minutes:
      - 20
      - 40
      - 80
      - 160
      min_rr:
      - 0.3
      - 0.45
      - 0.6
      - 0.8
  exit_on_regime_flip:
    enabled: true
    confirm_bars: 1
  trailing_unlocks:
    enabled: true
    triggers_r:
    - 0.8
    - 1.3
    - 2.0
    lock_r:
    - 0.0
    - 0.5
    - 1.2
  adaptive:
    enabled: true
    low_thr_bps: 40
    high_thr_bps: 120
    sl_scale:
      low: 1.4
      mid: 1.0
      high: 0.8
    trail_scale:
      low: 1.2
      mid: 1.0
      high: 0.8
    ladder_r_scale:
      low: 1.1
      mid: 1.0
      high: 0.9
  max_daily_loss_pct: 3.0
  trade_disable_minutes: 360
  use_trailing_killswitch: true
  min_close_pnl_pct: 2.0
  max_hours_in_trade: 48
  profit_lock:
    enabled: true
    triggers_r:
    - 1.0
    - 1.3
    - 2.0
    lock_to_r:
    - 0.1
    - 0.5
    - 1.0
risk_stepdown:
  enabled: true
  dd_levels_pct:
  - 2.0
  - 4.0
  - 6.0
  gross_leverage_multipliers:
  - 0.9
  - 0.75
  - 0.6
  max_new_positions_multipliers:
  - 0.8
  - 0.6
  - 0.4
  recover_hysteresis_pct: 1.0
paths:
  state_path: state/state.json
  logs_dir: logs
  metrics_path: state/metrics.json
logging:
  level: INFO
  file_max_mb: 20
  file_backups: 5
